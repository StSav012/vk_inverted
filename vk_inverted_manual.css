/*  manual part */

/* header search left border fix */
input.text.ts_input {
	border-left-color: transparent;
}


/* pick a song from a playlist button */
.audio_pl_edit_box .ape_add_audios_btn::after, .audio_pl_edit_box .ape_add_pl_audios_btn::after {
	background-repeat: no-repeat;
	background-position: 50%;
}


/* background when something overlays */
.stories_layers_background, #layer_bg, .mv_layer_bg, .wk_dark, #box_layer_bg, #box_layer_wrap, #layer_bg.wk_dark {
    background: rgba(0, 0, 0, .7);
}

.stories_preview::after {
    background-color: #222;
}

#pv_box, #mv_box .video_box_wrap {
    background-color: #000;
}


/* restore default polls background shading */
.media_voting_photo::after {
    background-color: rgba(0, 0, 0, .4);
}


/* text under a photo or a video */
.pv_cont .pv_bottom_actions > .pv_actions_more,
.pv_cont .pv_bottom_actions > a,
.pv_cont .pv_bottom_actions > span,
.pv_counter, .pv_album_name a,
.mv_playlist .mv_playlist_header .mv_playlist_header_title,
.mv_playlist .mv_playlist_item_title,
.mv_playlist .mv_playlist_item_views {
    color: #ccc;
}


/* photo action icons */
#pv_more_acts_tt .pv_more_act_item:not(#pv_more_act_market)::before {
    filter: invert(100%) hue-rotate(180deg);
}


/* photo place icon */
.pv_place_label {
    filter: invert(100%) hue-rotate(180deg);
}


/* attach to post icons */
.media_selector .ms_item::before {
    filter: invert(100%) hue-rotate(180deg);
}

.media_selector .ms_item.ms_item_article::before {
    filter: none;
}


/* playlist to the right of a video */
.mv_playlist, .mv_playlist .mv_playlist_item {
    background-color: #1e1e1e;
}

.mv_playlist .mv_playlist_item.mv_playlist_item_active {
    background-color: #2e2e2e;
}


/* inverted pictures for better visibility */
.ui_zoom_icon, .ui_zoom:hover .ui_zoom_icon {
    filter: invert(100%) hue-rotate(180deg);
}

.im_stickers_close::after, .chat_tab_close::after, .chat_tab_close:hover::after {
    filter: invert(100%) hue-rotate(180deg);
}

.page_post_video_play_inline,
.page_gif_play_icon, .page_gif_progress_icon,
.video_module .video .page_video_play_icon {
    background-color: #000;
    background-color: rgba(0, 0, 0, .5);
    filter: invert(100%) hue-rotate(180deg);
}

.page_gif_play_icon:hover, .page_gif_progress_icon:hover {
    background-color: #00000099;
}

.page_post_video_play_inline .pr_bt, .page_gif_progress_icon .pr_bt {
    background: #fff;
}

.video_thumb_play {
    background-color: #000;
    background-color: rgba(0, 0, 0, .5);
}

.video_thumb_play:hover, .page_gif_play_icon:hover, .page_post_video_play_inline:hover {
    background-color: rgba(0, 0, 0, .6);
}

.video_thumb_actions .icon, .video_item:hover .video_thumb_play:not(:hover) {
    filter: invert(100%) hue-rotate(180deg);
}

.video_item:hover .video_thumb_actions {
    filter: none;
}

.like_tt_share::before {
    filter: invert(100%) hue-rotate(180deg) opacity(90%);
}

.like_tt_share:hover::before {
    filter: invert(100%) hue-rotate(180deg);
}

.page_gif_share_icon, .page_gif_add_icon,
.profile_gift_icon,
.mention_tt_subscr_icon, .wk_subscribe_icon,
.article_layer__subscribe_icon,
.settings_narrow_row input[type="checkbox"]:not(:checked) + label::before,
.fc_tab_head a .chats_sp, .fc_tab_head a:hover,
.mv_subscribe_block #mv_subscribe_btn::before {
    filter: invert(100%);
}

.mention_tt_subscr.secondary .mention_tt_subscr_icon,
.wk_subscribe_btn.secondary .wk_subscribe_icon {
    filter: none;
}

.box_x_button, .feed_blog_reminder_large_close {
    filter: invert(100%) hue-rotate(180deg) opacity(75%);
}

.box_x_button:hover, .feed_blog_reminder_large_close:hover {
    filter: invert(100%) hue-rotate(180deg);
}

.summary_tab_sel .summary_tab_x {
    filter: invert(100%) hue-rotate(180deg) opacity(45%);
}

.summary_tab_sel .summary_tab_x:hover {
    filter: invert(100%) hue-rotate(180deg);
}

.page_pics_preview .page_media_x_wrap .page_media_x {
    filter: invert(100%) hue-rotate(180deg) opacity(85%);
}

.page_pics_preview .page_media_x_wrap:hover .page_media_x {
    filter: invert(100%) hue-rotate(180deg);
}

.ui_thumb_pe_button .ui_thumb_pe, .ui_thumb_pe_button .ui_thumb_x, .ui_thumb_x_button .ui_thumb_pe, .ui_thumb_x_button .ui_thumb_x {
	filter: invert(100%) hue-rotate(180deg);
}

.apps_feedRightAppsBlock_single_app .apps_feedRightAppsBlock__hideIcon {
	filter: invert(100%) hue-rotate(180deg);
}

.wall_post_source_icon, .mob_onl, .page_fronly {
    filter: invert(100%) hue-rotate(180deg);
}

.chat_onl::after {
    filter: invert(100%) hue-rotate(180deg);
}


/* “no avatar photo” image made dark */
img[src^="https://vk.com/images/camera_"][src$=".png?ava=1"],
img[src^="https://vk.com/images/deactivated_"][src$=".png?ava=1"],
img[src^="https://vk.com/images/dquestion_"][src$=".png"],
img[src^="/images/camera_"][src$=".png?ava=1"],
img[src^="/images/deactivated_"][src$=".png?ava=1"],
img[src^="/images/dquestion_"][src$=".png"],
img[src^="/images/community_"][src$=".png?ava=1"],
a[style^="background-image: url('/images/camera_"][style$=".png?ava=1')"],
a[style^="background-image: url('/images/camera_"][style$=".png?ava=1');"],
div[style^="background-image: url('/images/camera_"][style$=".png?ava=1')"],
div[style^="background-image: url('/images/camera_"][style$=".png?ava=1');"],
div[style^="background-image: url('/images/deactivated_"][style$=".png?ava=1')"]
div[style^="background-image: url('/images/deactivated_"][style$=".png?ava=1');"],
.wall_module .reply.reply_deleted .reply_img {
    filter: invert(100%) hue-rotate(180deg);
}

.chat_tab_close {
    z-index: 1;
}

/* “no community avatar photo” image made dark */
div[style^="background-image: url('/images/community_"][style$=".png?ava=1');"] {
    filter: invert(100%) hue-rotate(180deg);
}


/* “no dialog photo” image made dark */
img[src="https://vk.com/images/icons/im_multichat_50.png"] {
    filter: invert(100%) hue-rotate(180deg);
}


/* “contact” image made dark */
img[src="/images/contact.png"] {
    filter: invert(100%) hue-rotate(180deg);
}


/* “link” image made dark */
div[style="background-image:url(/images/lnkouter.png)"] {
    filter: invert(100%) hue-rotate(180deg);
}


/* “no posts” image made dark */
.no_posts_cover {
    filter: invert(100%) hue-rotate(180deg);
}


/* “no comments” and “closed comments” images made dark */
.pv_cont .pv_closed_commments_placeholder, .pv_cont .pv_no_commments_placeholder {
    filter: invert(100%) hue-rotate(180deg);
}


/* add user image made dark */
.index_new_user_row .index_user_ph:empty {
    filter: invert(100%) hue-rotate(180deg);
}


/* floating chats resize icon made dark */
.chats_sp {
	filter: invert(100%) hue-rotate(180deg);
}


/* change stories label background for better visibility */
.story_feed_new_item.stories_feed_preview_item .stories_feed_preview_author .stories_feed_preview_author_name,
.stories_feed_preview_item .stories_feed_preview_author .stories_feed_preview_author_name {
	text-shadow: 0 0 2px white;
	background-image: radial-gradient(rgba(255, 255, 255, 0.4) 0% 50%, transparent 100%);
}


/* restore default album thumbnail style, with dark shadow */
.page_album_title, .photos_container_albums .photos_album_title_wrap,
.photos_container_albums .photos_album_description {
    color: #fff;
}


/* fix photo album edit icon */
.photos_edit_actions .icon {
	filter: invert(100%) hue-rotate(180deg);
}


/* set the background of an image attached as a doc transparent */
.page_doc_photo {
    background-color: transparent;
}


/* add a shadow for a graffiti to make the dark parts visible */
.page_media_graffiti_doc > img {
    filter: drop-shadow(0 0 0.75rem WhiteSmoke);
}


/* tags input in Documents section */
input.focused {
    color: #fff !important;
}


/* location and other search edit icon */
.box_body .ui_box_search.ui_box_edit, .box_grey .ui_box_search.ui_box_edit {
    filter: invert(100%) hue-rotate(180deg);
}


/* emoji generic pictures */
.emoji_sprite {
    filter: invert(100%) hue-rotate(180deg);
}


/* emoji panel overflow shadows */
.emoji_cats_title_helper::after,
.ui_scroll_default_theme.ui_scroll_emoji_theme > .ui_scroll_overflow > .ui_scroll_shadow_bottom,
.ui_scroll_default_theme.ui_scroll_emoji_theme > .ui_scroll_overflow > .ui_scroll_shadow_top {
	filter: invert(100%) hue-rotate(180deg);
}


/* change the recent chats container height, for convenience */
.chat_fix_height {
    height: unset !important;
    max-height: 50vh;
    overflow-y: auto;
}


/* message selection tick */
.im-mess .im-mess--check {
    filter: invert(100%) hue-rotate(180deg);
}


/* docs viewer inline style */
.docs_info {
    color: #66696c;
}

.docs_panel {
    background: #0e0e0e;
    -webkit-box-shadow: 0px 2px 10px #ffffff26;
    -moz-box-shadow: 0px 2px 10px #ffffff26;
    box-shadow: 0px 2px 10px #ffffff26;
}


/* icons at oauth.vk.com */
.apps_access_messages {
    background-position:0 0
}
.apps_access_profile {
    background-position:0 -40px
}
.apps_access_friends {
    background-position:0 -80px
}
.apps_access_photos {
    background-position:0 -120px
}
.apps_access_audio {
    background-position:0 -160px
}
.apps_access_video {
    background-position:0 -200px
}
.apps_access_ads, .apps_access_adsweb {
    background-position:0 -240px
}
.apps_access_offline {
    background-position:0 -280px
}
.apps_access_docs, .apps_access_wall {
    background-position:0 -320px
}
.apps_access_groups {
    background-position:0 -360px
}
.apps_access_stats {
    background-position:0 -400px
}
.apps_access_email, .apps_deny_email {
    background-position:0 -440px
}
.apps_access_market {
    background-position:0 -480px
}
.apps_access_notifications {
    background-position:0 -520px
}
.apps_access_phone, .apps_deny_phone {
    background-position:0 -560px
}
.apps_access_stories {
    background-position:0 -640px
}


/* attach icon fix */
.deep_active .replies .reply_box_more_attaches::before,
.deep_active.wall_module .replies .reply_box_more_attaches::before,
.deep_active.wall_module .wl_replies_block_wrap .reply_box_more_attaches::before,
.deep_active .wl_replies_block_wrap .reply_box_more_attaches::before {
	background-size: 18px;
}


/* apps actions */
.apps_edit_actions .icon {
	filter: invert(100%) hue-rotate(180deg);
}


/* app pictures fix */
.vk_app_modal_container--qr > svg {
	background-color: white;
}


/* post edited fix */
div[style="background-color: rgb(255, 255, 255);"] {
    background-color: #221f1b !important;
    box-shadow: 0 0 0.5em 0.5em #221f1b;
    transition: background-color 1s ease, box-shadow 1s ease;
}


/* add icons fix */
.TextPanelButton__icon {
	filter: invert(100%) hue-rotate(180deg);
}


/* new replies highlighting fix */
.wall_module .reply[style]:not([style=""]),
div.reply_text > div[id][style]:not([style=""]):not([style="display: block;"]):not(.page_post_sized_thumbs) {
    background-color: #221f1b !important;
    box-shadow: 0 0 0.5em 0.5em #221f1b;
    transition: background-color 1s ease, box-shadow 1s ease;
}

.wall_module .reply,
div.reply_text > div[id][style] {
    transition: background-color 1s ease, box-shadow 1s ease;
}


/* just-edited post highlighting fix */
.wall_post_cont[style^="background-color"] {
    background-color: #221f1b !important;
    box-shadow: 0 0 0.5em 0.5em #221f1b;
    transition: background-color 1s ease, box-shadow 1s ease;
}

.wall_post_cont {
    transition: background-color 1s ease, box-shadow 1s ease;
}


/* comment field background color is unnecessary */
.wall_module .reply_form, .wall_module .reply_box, .wall_module .reply_fakebox_wrap {
	background-color: unset;
}


/* “share to” field color fix */
.like_share_radio .wdd_text {
	background-color: black;
	color: white;
}


/* [class="selector_input selected"] fix */
[style^="color: rgb(34, 34, 34);"] {
    color: #dddddd !important;
}


/* polls text color fix */
.media_voting_bg_gradient .media_voting_footer, .media_voting_bg_gradient .media_voting_info, .media_voting_bg_photo .media_voting_footer, .media_voting_bg_photo .media_voting_info, .media_voting_bg_tile .media_voting_footer, .media_voting_bg_tile .media_voting_info, .media_voting_bg_gradient .media_voting_footer a, .media_voting_bg_gradient .media_voting_info a, .media_voting_bg_photo .media_voting_footer a, .media_voting_bg_photo .media_voting_info a, .media_voting_bg_tile .media_voting_footer a, .media_voting_bg_tile .media_voting_info a {
	color: hsla(0, 0%, 100%, .84);
}

.media_voting_bg_gradient .media_voting_question, .media_voting_bg_photo .media_voting_question, .media_voting_bg_tile .media_voting_question {
	color: #fff;
}

.media_voting_bg_gradient .media_voting_option_text, .media_voting_bg_photo .media_voting_option_text, .media_voting_bg_tile .media_voting_option_text {
	color: #fff;
}
